
 <project name="ingenias" default="run" basedir=".">
 <property name="gensrc" location="gensrc" />
 <property name="permsrc" location="permsrc" />
 <property name="main" location="src" />
 <property name="temp" location="tmp" />
 <property name="genlib" location="genlib"/>
 <property name="doc" location="doc"/>
 <property name="lib" location="lib"/>
 <property name="spec" location="spec"/>
 <property name="bin" location="bin"/>
  	
 <!--   Compiles code generated by a JADE Module     -->
  <target name="compile" >

    <mkdir dir="${temp}" />
    <mkdir dir="${main}" />
    <mkdir dir="${permsrc}" />
    <mkdir dir="${gensrc}" />

    
    <copy todir="${temp}">
    <fileset dir="${main}">
      <include name="**/*.properties"/>
      <include name="**/*.png"/>
      <include name="**/*.gif"/>
      <include name="**/*.bmp"/>
      <include name="**/*.jpeg"/>
    </fileset>
    </copy>

    <javac destdir="${temp}" debug="true" fork="true">

      <src path="${gensrc}" />
      <src path="${permsrc}" />      
      <src path="${main}" />
      <src path="srcJADEAspects" />


      <classpath>

        <pathelement path="${temp}" />

        <fileset dir="analyser">

          <include name="**/*.jar" />

        </fileset>

        <fileset dir="${lib}">

          <include name="**/*.jar" />

        </fileset>

      </classpath>

    </javac>   
  </target>
  
 
  
  <!--   Runs a MAS created with the jade module and contained in the node SeriousConfiguration -->

<target name="run" depends="compile">
    <java fork="true" failonerror="true" maxmemory="350m"
    classname="ingenias.jade.MainFullSystem">
    <jvmarg line="-DMaxAgents=30 -DBannedAgents='df'  -Ddb_connection=jdbc:hsqldb:hsql://localhost/jadedb -Ddb_driver=org.hsqldb.jdbcDriver -Ddb_user=SA -Ddb_password= "/>
    <arg line="60000"/>
    
      <classpath>
	<pathelement path="${temp}" />               	

	<fileset dir="analyser">

          <include name="**/*.jar" />

        </fileset>

        <fileset dir="${lib}">

          <include name="**/*.jar" />

        </fileset>

      </classpath>

    </java>
  </target>

   <target name="runjade">
    <java fork="true" failonerror="true" maxmemory="30m"
    classname="jade.Boot">
	<jvmarg line="-DMaxAgents=30 -DBannedAgents='df'  -Ddb_connection=jdbc:hsqldb:hsql://localhost/jadedb -Ddb_driver=org.hsqldb.jdbcDriver -Ddb_user=SA -Ddb_password= "/>
	<arg line="-gui -port 60000 -file-dir jade/"/>
 <classpath>
	<pathelement path="${temp}" />               	

	<fileset dir="analyser">

          <include name="**/*.jar" />

        </fileset>

        <fileset dir="${lib}">

          <include name="**/*.jar" />

        </fileset>

      </classpath>
    </java>
  </target>

  
  </project>
 
